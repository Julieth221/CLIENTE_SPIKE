<h2 mat-dialog-title>Parcela(s) del Arrendamiento</h2>
    <h3 class="dialog-subtitle">{{ data.nombreFinca }}</h3>
    
    <mat-dialog-content>
      <!-- Estado de carga -->
      <div *ngIf="loading" class="loading-container">
        <mat-spinner diameter="40"></mat-spinner>
        <p class="loading-text">Cargando parcelas...</p>
      </div>

      <!-- Mensaje de error -->
      <div *ngIf="error && !loading" class="error-container">
        <mat-icon class="error-icon">error</mat-icon>
        <p class="error-text">{{ error }}</p>
      </div>

      <!-- Contenido de parcelas -->
      <div *ngIf="!loading && !error && parcelas.length > 0" class="parcelas-grid">
        <div *ngFor="let parcela of parcelas" class="parcela-card">
          <mat-card>
            <mat-card-header>
              <mat-card-title class="parcela-nombre">{{ parcela.nombre }}</mat-card-title>
            </mat-card-header>

            <mat-card-content class="parcela-content">
              <div class="parcela-info">
                <div class="info-item">
                  <mat-icon class="info-icon">straighten</mat-icon>
                  <span class="info-label">Tama√±o:</span>
                  <span class="info-value">{{ parcela.tamano | number:'1.2-2' }} ha</span>
                </div>
                <div class="info-item">
                  <mat-icon class="info-icon">location_on</mat-icon>
                  <!-- <span class="info-label">ID Parcela:</span>
                  <span class="info-value">{{ parcela.id }}</span> -->
                </div>
              </div>
              
              <div class="parcela-map-container">
                <app-ver-mapa 
                  [coordenadas]="parcela.coordenadas"
                  [nombreParcela]="parcela.nombre"
                  [tamanoParcela]="parcela.tamano">
                </app-ver-mapa>
              </div>
            </mat-card-content>
          </mat-card>
        </div>
      </div>

      

      <!-- Mensaje sin parcelas -->
      <div *ngIf="!loading && !error && parcelas.length === 0" class="empty-container">
        <mat-icon class="empty-icon">agriculture</mat-icon>
        <p class="empty-text">No hay parcelas disponibles para este arrendamiento</p>
      </div>
    </mat-dialog-content>


    <mat-dialog-actions align="end">
      <button mat-button mat-dialog-close>
        <mat-icon>close</mat-icon>
        Cerrar
      </button>
    </mat-dialog-actions>